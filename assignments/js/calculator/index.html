<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="Jithmi Wannakukorala" name="author">
    <meta content="Calculator using HTML, CSS & JavaScript" name="description">
    <meta content="Calculator, HTML, CSS, JavaScript, JQuery"
          name="keywords">
    <meta content="14 days" name="revisit-after">

    <title>Calculator</title>
    <link href="assets/img/favicon.png" rel="icon">
    <link href="assets/css/cal-styles.css" rel="stylesheet">
    <link href="assets/css/normalize.css" rel="stylesheet">
</head>
<body>
<main>
    <section class="calculator" id="calculator">
        <div class="wrapper">
            <div class="container-calculator">
                <div class="title">Calculator</div>
                <div class="row">
                    <input type="button" class="btn clear" value="C">
                    <input class="display" placeholder="0" disabled>
                </div>
                <div class="buttons">
                    <input type="button" class="btn num" value="7">
                    <input type="button" class="btn num" value="8">
                    <input type="button" class="btn num" value="9">
                    <input type="button" id="division" class="btn num" value="/">
                    <input type="button" class="btn num" value="4">
                    <input type="button" class="btn num" value="5">
                    <input type="button" class="btn num" value="6">
                    <input type="button" id="multiplication" class="btn num" value="*">
                    <input type="button" class="btn num" value="1">
                    <input type="button" class="btn num" value="2">
                    <input type="button" class="btn num" value="3">
                    <input type="button" id="subtraction" class="btn num" value="-">
                    <input type="button" class="btn num" value=".">
                    <input type="button" class="btn num" value="0">
                    <input type="button" id="result" class="btn" value="=">
                    <input type="button" id="addition" class="btn num" value="+">
                </div>
            </div>
        </div>
    </section>
</main>
<script src="assets/js/jquery-3.6.1.min.js"></script>
<script>
    $('.num').on('click', function() {
        let char = $(this).val();
        let currentValue = $('.display').val();
        let length = currentValue.length;
        let flag = false;
        if(char == '+' || char == '-' || char == '*' || char == '/')
            flag = true;
        if(length == 0) {
            if(flag)
                return;
        }
        let flagNew = false;
        let lastCharacter = currentValue[length-1];
        if(lastCharacter == '+' || lastCharacter == '-' || lastCharacter == '*' || lastCharacter == '/')
            flagNew = true;
        if(flag && flagNew)
            $('.display').val(currentValue.substring(0,length-1) + char);
        else
            $('.display').val($('.display').val() + char);
    });

    $('.clear').on('click', function() {
        $('.display').val('');
    });
</script>
</body>
</html>